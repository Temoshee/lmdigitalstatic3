<!doctype html>
<html lang="en">
  <head prefix="og: http://ogp.me/ns#">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Create Cloud Visualizations | Your awesome title</title>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<!-- built with CollectionBuilder-CONTENTdm https://github.com/CollectionBuilder/collectionbuilder-contentdm -->
<meta name="generator" content="collectionbuilder-contentdm" />
<meta http-equiv="Content-Language" content="en-us" >

<link rel="stylesheet" href="/assets/lib/bootstrap.min.css" type="text/css">
<script defer src="/assets/lib/fontawesome-free/js/all.min.js"></script>
<link rel="stylesheet" href="/assets/css/custom.css" type="text/css">



<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.">
<meta name="author" content="" >
<!-- Open Graph meta -->
<meta property="og:title" content="Create Cloud Visualizations | Your awesome title" />
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:site_name" content="Your awesome title" />
<meta property="og:type" content="website" />
<meta property="og:image" content="/assets/img/rise_and_progress_mi_david_marvin.jpg" />
<meta property="og:image:alt" content="CollectionBuilder logo" />
<meta property="og:url" content="/docs/cloud.html" />
<meta property="og:locale" content="en_US" />
<!-- schema.org JSON-LD -->
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"Create Cloud Visualizations | Your awesome title","publisher":"","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","image":"/assets/img/rise_and_progress_mi_david_marvin.jpg","url":"/docs/cloud.html"}</script> 


<!-- Analytics --> 
<!-- Last build date: 2021-03-18 -->
  </head>
  <body>
    <div id="skip-to-content"><a href="#maincontent">Skip to main content</a></div>
    <div class="container">
    <div class="row align-items-center">
        <div id="title" class="col-md-9">
            <h1><a class="text-dark font-weight-normal" href="/" >Your awesome title</a></h1>	 
            
        </div>
        <div class="col-md-3 d-none d-lg-block text-right">
            <a class="btn btn-outline-light" href="" target="_blank" rel="noopener">
                <img class="img-fluid" src="" title="" alt=" home" >
            </a>
        </div>
    </div>
</div>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#page-nav" aria-controls="page-nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <span class="d-lg-none text-right">
            <a href="" target="_blank" rel="noopener">
                <img class="img-fluid" id="mobile-nav-image" src="" title="" alt=" home" >
            </a>
        </span>

        <div class="collapse navbar-collapse" id="page-nav">
            <ul class="navbar-nav mr-auto">
                
                <li class="nav-item ">
                    <a class="nav-link " href="/">Home</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link " href="/timeline.html">Timeline</a>
                </li></ul>
            <script>
    function site_search() {
        var query = document.getElementById("site-search").value
        window.open("/browse.html#" + encodeURIComponent(query), "_self" );
    }
</script>
<form class="form-inline my-2 my-lg-0" role="search" id="nav-search" onsubmit="site_search(); return false;">
    <div class="input-group">
        <input id="site-search" class="form-control " type="text" placeholder="Search" aria-label="Search box">
        <div class="input-group-append">
            <button class="btn btn-light" type="submit">
                <span id="search-icon"><svg viewBox="0 0 1024 974" height="16px" width="20px"><path d="M960 832L710.875 582.875C746.438 524.812 768 457.156 768 384 768 171.96900000000005 596 0 384 0 171.969 0 0 171.96900000000005 0 384c0 212 171.969 384 384 384 73.156 0 140.812-21.562 198.875-57L832 960c17.5 17.5 46.5 17.375 64 0l64-64C977.5 878.5 977.5 849.5 960 832zM384 640c-141.375 0-256-114.625-256-256s114.625-256 256-256 256 114.625 256 256S525.375 640 384 640z"/></svg></span>
                <span class="sr-only">Search Objects</span>
            </button>
        </div>
    </div>
</form>
        </div>
    </div>    
</nav>

    <main id="maincontent" role="main">
      <div class="container mt-4">
  <h1 id="create-cloud-visualizations">Create Cloud Visualizations</h1>

<h2 id="built-in-clouds">Built-in clouds</h2>

<p>For simplicity, the default CB theme has two pre-configured cloud visualizations pre-configured named “subjects” and “locations”. 
These can be easily controlled using variables in the <code class="language-plaintext highlighter-rouge">theme.yml</code> to generate clouds from any field(s) (not necessarily just a “subject” or “location” field).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Subject page
subjects-fields: subject;creator # set of fields separated by ; to be featured in the cloud
subjects-min: 1 # min size for subject cloud, too many terms = slow load time!
subjects-stopwords: # set of subjects separated by ; that will be removed from display, e.g. boxers;boxing

# Locations page
locations-fields: location # set of fields separated by ; to be featured in the cloud
locations-min: 1 # min size for subject cloud, too many terms = slow load time!
locations-stopwords: # set of subjects separated by ; that will be removed from display, e.g. boxers;boxing
</code></pre></div></div>

<p>These theme configuration options drive pre-made pages (with layout <code class="language-plaintext highlighter-rouge">subjects</code> and <code class="language-plaintext highlighter-rouge">locations</code> respectively), and use the layout value to add an _include via <code class="language-plaintext highlighter-rouge">foot.html</code> (which allows the theme values to be used).
Modifying the config settings can easily transform these two pages into clouds based on any metadata field.
These settings also create matching data outputs in the <code class="language-plaintext highlighter-rouge">/assets/data/</code> folder.</p>

<p>If <code class="language-plaintext highlighter-rouge">subjects-fields</code> or <code class="language-plaintext highlighter-rouge">locations-fields</code> is blank or commented out, the template will not build out the related cloud page or data, which saves build time. 
If you are developing a particularly large collection, you can comment out these options to make rebuild much quicker.</p>

<p>Keep in mind these page stubs (<code class="language-plaintext highlighter-rouge">/subjects.html</code>, <code class="language-plaintext highlighter-rouge">/locations.html</code>) will also have to be present in “config-nav.csv” to show up in your navigation.</p>

<h2 id="cloud-layout-and-front-matter">Cloud Layout and Front matter</h2>

<p>Custom cloud pages can be easily created using the cloud layout and page front matter.
To the page front matter add:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">cloud-fields:</code>, with a value of a set of fields separated by <code class="language-plaintext highlighter-rouge">;</code> to be featured in the cloud.</li>
  <li><code class="language-plaintext highlighter-rouge">cloud-min:</code> (optional), with a integer value such as <code class="language-plaintext highlighter-rouge">2</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">cloud-stopwords:</code> (optional), with a set of subjects separated by <code class="language-plaintext highlighter-rouge">;</code> that will be removed from display</li>
</ul>

<p>For example, to create an Authors cloud page, create a file named <code class="language-plaintext highlighter-rouge">authors.md</code> in the “pages” folder. 
Edit the <code class="language-plaintext highlighter-rouge">authors.md</code> with this content:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
title: Authors
layout: cloud
permalink: /authors.html
cloud-fields: creator
cloud-min: 
cloud-stopwords:
---

## Browse Authors

Example custom cloud page.
</code></pre></div></div>

<h2 id="cloud-include">Cloud include</h2>

<p>Clouds can also be added to any page using the <code class="language-plaintext highlighter-rouge">_include/js/cloud-js.html</code> include in the page stub content, with the variable <code class="language-plaintext highlighter-rouge">fields</code>, and optional variables <code class="language-plaintext highlighter-rouge">min</code> and <code class="language-plaintext highlighter-rouge">stopwords</code>. 
Cloud-js include assumes a div with <code class="language-plaintext highlighter-rouge">id="cloud"</code> exists on the page for the cloud to fill.
So putting them together, you can add a cloud anywhere in a page.
For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div id="cloud" class="text-center my-4 bg-light border rounded p-2"&gt;&lt;/div&gt;
&lt;script&gt;
    /* subject terms + count */
    var terms = [
        
    ];

    /* apply stopwords */
    var stopWords = ["example","another"];
    terms = terms.filter(function(a) { return stopWords.indexOf(a[0]) &lt; 0;});
    /* calculate max size */
    var counts = terms.map(function(obj){ return obj[1]; });
    var countMax = counts.reduce(function(a, b) { return Math.max(a, b); });
    var cloud = document.getElementById("cloud");
    /* Fisher-Yates shuffle https://bost.ocks.org/mike/shuffle/ */
    /* function shuffle(array) {
        var m = array.length, t, i;
        while (m) {
        i = Math.floor(Math.random() * m--);
        t = array[m];
        array[m] = array[i];
        array[i] = t;
        }
        return array;
    } */
    function mapSize(x) { return Math.round(x * 9 / countMax + 1); }
    /* create cloud */
    function makeGrid(array) {
        var i, size;
        var items = "";
        //shuffle(array);
        for (i = 0; i &lt; array.length; i++) {
            size = mapSize(array[i][1]);
            items += '&lt;a class="btn btn-outline-info m-2 tagcloud' + size + '" href="/browse.html#' + encodeURIComponent(array[i][0]) + '" &gt;' + array[i][0] + '&lt;/a&gt;';
        }
        cloud.innerHTML = items;
    }
    makeGrid(terms);

&lt;/script&gt;
</code></pre></div></div>

</div>
    </main>
    <footer class="bg-dark pt-4 container-fluid mt-3">

    <div class="row border-bottom border-white pb-4 mb-2">

        <div class="col-md-7  px-4 mt-2">

            <p class="text-white">
            <a href="https://www.michigan.gov/lawlibrary">
                Library of Michigan<br>
                State Law Library<br>
                702 West Kalamazoo St.<br>
                Lansing MI 48909<br>
                lmlawlib@michigan.gov<br>
            </a>
            </p>

        </div>

        <div class="col-md-5 mt-2 text-right">

            <p class="text-right">
                <a href="" target="_blank" rel="noopener">
                    <img class="img-fluid" src="" alt=" home">
                </a>
            </p>
            <p class="text-white" id="footer-credits">
                <small><em>built with</em>
                    <a href="https://collectionbuilder.github.io/" target="_blank" rel="noopener" title="CollectionBuilder">
                        <img src="/assets/img/collectionbuilder-logo.png" class="img-fluid" alt="CollectionBuilder home" >
                    </a>
                </small>
            </p>

        </div>

    </div>

    <div class="col-md-12 text-center pt-3 pb-1">
        <p class="text-white">Last updated 2021</p>
    </div>

</footer>
    <!-- Optional JS for Bootstrap: jQuery first, then Bootstrap bundle JS -->
<script src="/assets/lib/jquery-3.5.1.min.js"></script>
<script src="/assets/lib/bootstrap.bundle.min.js"></script>
<!-- load other js -->
<script src="/assets/lib/lazysizes.min.js" async></script>









    <script>
    // When the user scrolls down from the top of the document, show the button
    window.onscroll = function () {
        if (document.body.scrollTop > 500 || document.documentElement.scrollTop > 500) {
            document.getElementById("scroll-to-top").style.display = "block";
        } else {
            document.getElementById("scroll-to-top").style.display = "none";
        }
    }
    // scroll to top function
    function scrollToTop() {
        $('html, body').animate({scrollTop: 0}, 750);
    }
</script>
<button id="scroll-to-top" type="button" class="btn btn-link btn-lg" onclick="scrollToTop();" title="Back to Top" aria-label="Back to Top">
    <span class="fa fa-angle-double-up fa-stack-1x" ></span>
</button>
  </body>
</html>